import unittest
from solver import Solver

class TestSolver(unittest.TestCase):

    puzzle = [
        [[3], [8], [0], [2], [0], [9], [0], [0], [1]],
        [[0], [0], [1], [0], [5], [0], [0], [0], [3]],
        [[0], [0], [0], [0], [0], [0], [2], [7], [0]],
        [[0], [0], [0], [6], [0], [0], [3], [0], [0]],
        [[0], [0], [0], [0], [0], [7], [0], [0], [0]],
        [[0], [0], [9], [0], [0], [0], [0], [5], [8]],
        [[0], [0], [0], [0], [0], [1], [9], [0], [0]],
        [[9], [2], [5], [3], [0], [8], [0], [4], [0]],
        [[0], [0], [0], [9], [7], [0], [0], [8], [0]],
    ]
    answer = [
        [[3], [8], [7], [2], [4], [9], [5], [6], [1]],
        [[2], [4], [1], [7], [5], [6], [8], [9], [3]],
        [[5], [9], [6], [8], [1], [3], [2], [7], [4]],
        [[7], [5], [2], [6], [8], [4], [3], [1], [9]],
        [[8], [1], [3], [5], [9], [7], [4], [2], [6]],
        [[4], [6], [9], [1], [3], [2], [7], [5], [8]],
        [[6], [7], [8], [4], [2], [1], [9], [3], [5]],
        [[9], [2], [5], [3], [6], [8], [1], [4], [7]],
        [[1], [3], [4], [9], [7], [5], [6], [8], [2]],
    ]

    missingOne = [
        [[3], [8], [7], [2], [4], [9], [5], [6], [1]],
        [[0], [4], [1], [7], [5], [6], [8], [9], [3]],
        [[5], [9], [6], [8], [1], [3], [2], [7], [4]],
        [[7], [5], [2], [6], [8], [4], [3], [1], [9]],
        [[8], [1], [3], [5], [9], [7], [4], [2], [6]],
        [[4], [6], [9], [1], [3], [2], [7], [5], [8]],
        [[6], [7], [8], [4], [2], [1], [9], [3], [5]],
        [[9], [2], [5], [3], [6], [8], [1], [4], [7]],
        [[1], [3], [4], [9], [7], [5], [6], [8], [2]],
    ]

    def setUp(self):
        self.solver = Solver()

    def test_canary(self):
        self.assertTrue(True)
    
    def test_fill_element_one_missing(self):
        self.solver.find_all_possibilities(self.missingOne)
        self.assertEqual(self.missingOne[1][0][0], 2)

    def test_puzzle(self):
        self.solver.find_all_possibilities(self.puzzle)
        self.assertEqual(self.puzzle, self.answer)

if __name__ == "__main__":
    unittest.main()